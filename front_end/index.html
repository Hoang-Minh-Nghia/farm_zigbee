<!DOCTYPE html>
<!-- index.html: Entry for Firebase Hosting. This duplicates dashboard.html -->
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IoT Water Quality Dashboard</title>
  <!-- Redirect note: Keep both files during development; Firebase serves index.html by default. -->
  <script>/* Optional: if you only want to maintain dashboard.html, you could redirect:
    // location.replace('dashboard.html');
    */</script>
</head>
<body>
  <!-- Simple loader while dashboard is fetched -->
  <div style="display:flex;align-items:center;justify-content:center;height:100vh;font-family:Roboto,Arial,sans-serif;color:#007bff;flex-direction:column;gap:12px;">
    <div style="font-size:1.4em;font-weight:700;">Đang tải Dashboard...</div>
    <div style="width:64px;height:64px;border:6px solid #e3eefc;border-top-color:#007bff;border-radius:50%;animation:spin 0.9s linear infinite;"></div>
  </div>
  <script>
    // Load dashboard. If hosting root contains this file and dashboard.html is alongside it, path works.
    // If you move dashboard.html to a subfolder, adjust fetch('./subfolder/dashboard.html').
    fetch('./dashboard.html?v=20251031')
      .then(r => { if(!r.ok) throw new Error('HTTP ' + r.status); return r.text(); })
      .then(html => {
        document.open(); document.write(html); document.close();
        document.dispatchEvent(new Event('DOMContentLoaded'));
        window.dispatchEvent(new Event('load'));
        console.log('[Index] Re-dispatched DOMContentLoaded & load');
      })
      .catch(err => { console.error('Không thể tải dashboard.html:', err); const msg = document.createElement('div'); msg.style.cssText='position:fixed;inset:0;display:flex;align-items:center;justify-content:center;font-family:Roboto,Arial,sans-serif;color:#c0392b;background:#fff;flex-direction:column;gap:14px;'; msg.innerHTML = '<strong>Lỗi tải Dashboard</strong><code>'+err.message+'</code><small>Kiểm tra đường dẫn hoặc redeploy.</small>'; document.body.appendChild(msg); });
  </script>
  <style>@keyframes spin{to{transform:rotate(360deg)}}</style>
</body>
</html>